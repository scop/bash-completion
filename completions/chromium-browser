# chromium-browser completion                              -*- shell-script -*-

_chromium_browser()
{
    local cur prev words cword split
    _init_completion -s || return

    case $prev in
        --help|--app|--proxy-server|--proxy-pac-url|-h)
            return
            ;;
        --user-data-dir|--pack-extension)
            _filedir -d
            return
            ;;
        --load-extension|--pack-extension-key|--use-file-for-fake-audio-capture|--use-file-for-fake-video-capture)
            _filedir
            return
            ;;
        --password-store)
            COMPREPLY=( $( compgen -W 'basic gnome kwallet' -- "$cur" ) )
            return
            ;;
    esac

    $split && return

    if [[ $cur == -* ]]; then
        # For a full list, see
        # https://peter.sh/experiments/chromium-command-line-switches/
        COMPREPLY=( $( compgen -W '
        --app=
        --disable-background-networking
        --disable-component-extensions-with-background-pages
        --disable-web-security
        --enable-devtools-experiments
        --enable-experimental-extension-apis
        --ignore-certificate-errors
        --incognito
        --load-extension=
        --new-window
        --no-first-run
        --no-proxy-server
        --no-sandbox
        --pack-extension-key=
        --pack-extension=
        --password-store=
        --proxy-auto-detect
        --proxy-pac-url=
        --proxy-server=
        --remote-debugging-port=
        --single-process
        --use-fake-device-for-media-stream
        --use-fake-ui-for-media-stream
        --use-file-for-fake-audio-capture=
        --use-file-for-fake-video-capture=
        --user-data-dir=
        --version
        ' -- "$cur" ) )
        [[ $COMPREPLY == *= ]] && compopt -o nospace
        return
    fi

    _filedir "@(?([xs])htm?(l)|pdf)"
} &&
complete -F _chromium_browser chromium-browser google-chrome \
    google-chrome-stable chromium chrome

# ex: filetype=sh
